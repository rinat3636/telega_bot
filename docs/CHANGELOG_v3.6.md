# Changelog v3.6

## [3.6.0] - 2026-02-12

### Fixed
- **Static Review Findings:** Исправлено 5 критических замечаний, выявленных в ходе статического анализа кода, для повышения стабильности и надежности.
- **Dependencies:** Зависимость `boto3` добавлена в `requirements.txt`.
- **Imports:** Удалены неиспользуемые импорты и реализован ленивый импорт `boto3` для оптимизации.
- **Logging:** Добавлено логирование в модуль `database/models.py` для улучшения отладки.
- **Balance Cache:** Исправлена логика сравнения временных меток в механизме кэширования баланса путем переноса операции на сторону SQLite.
- **Handlers API Alignment:** Все хендлеры (`images.py`, `videos.py`) приведены в соответствие с обновленным API базы данных (`create_job`, статусы `completed`/`failed`, `result_url`).

### Added
- **Config Validation:** Добавлена строгая валидация конфигурации при запуске бота. Проверяются все критически важные переменные окружения, включая API-ключи, метод загрузки файлов и учетные данные S3. Это предотвращает падение бота во время работы из-за некорректной конфигурации.
- **Admin IDs Parsing:** Улучшен парсинг `ADMIN_IDS`, добавлена обработка ошибок и некорректных значений.
- **Unit Tests:** Добавлены комплексные unit-тесты для валидации конфигурации и проверки корректности вызовов API базы данных из хендлеров.
