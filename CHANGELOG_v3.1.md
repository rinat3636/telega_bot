# Changelog v3.1 (2026-02-12)

## üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **F-304: GC-worker**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–µ–∫—à–∏—Ö –∞—Å—Å–µ—Ç–æ–≤ –ø–æ `expires_at`
  - –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö job (30+ –¥–Ω–µ–π)
  - –£–¥–∞–ª–µ–Ω–∏–µ orphaned files (—Ñ–∞–π–ª—ã –±–µ–∑ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö job)
  - Cron job –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤

- **F-305: –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏ –∏ –∞–ª–µ—Ä—Ç—ã**
  - `ledger_negative_attempts` ‚Äî –∫—Ä–∏—Ç–∏—á–Ω—ã–π –∞–ª–µ—Ä—Ç
  - `jobs_failed` ‚Äî –ø—Ä–æ–≤–∞–ª—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
  - `payment_webhook_errors` ‚Äî –æ—à–∏–±–∫–∏ webhook
  - `queue_length` ‚Äî –¥–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏
  - `provider_errors` ‚Äî –æ—à–∏–±–∫–∏ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
  - `job_duration_seconds` ‚Äî histogram –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - `balance_operations` ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–ª–∞–Ω—Å–æ–º

- **F-302: Usage-sessions**
  - –¢–∞–±–ª–∏—Ü–∞ `usage_sessions` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è ‚ÇΩ/—Å–µ–∫
  - –°–≤—è–∑—å —Å ledger —á–µ—Ä–µ–∑ `ledger_ref_id`
  - –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –±–∏–ª–ª–∏–Ω–≥–∞

- **Cost-caps –∏ auto-stop**
  - –î–Ω–µ–≤–Ω–æ–π –∏ —á–∞—Å–æ–≤–æ–π –ª–∏–º–∏—Ç—ã —Ä–∞—Å—Ö–æ–¥–æ–≤
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
  - Auto-stop job –ø—Ä–∏ low balance

- **F-306: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π Admin-–∫–æ–Ω—Ç—É—Ä**
  - `/admin_refund` ‚Äî –≤–æ–∑–≤—Ä–∞—Ç —Å –ø—Ä–∏—á–∏–Ω–æ–π
  - `/admin_adjust` ‚Äî –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å –ø—Ä–∏—á–∏–Ω–æ–π
  - `/admin_cancel_job` ‚Äî –æ—Ç–º–µ–Ω–∞ job —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º
  - `/admin_user` ‚Äî –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
  - Audit log –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- **F-301: Enforce-–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã ledger**
  - `CHECK` –∏ `UNIQUE` constraints –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- **F-308:** –¢–µ—Å—Ç—ã –Ω–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—é job
- **F-303:** Deadline/cancel/retry –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ workers
- **F-307:** Replay-window –≤ webhook –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
